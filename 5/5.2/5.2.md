# 5.2. Mantenibilidad

## Módulo 01: Gestión de Usuarios
### Escenario 1

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                  | **Fuente del Estímulo**       | **Artefacto**            | **Entorno**              | **Respuesta**                          | **Medida de Respuesta**          |
|------------------|-------------------------|-------------------------------|-------------------------------|-------------------------|--------------------------|----------------------------------------|----------------------------------|
| ESC-M1-MNT-01    | Mantenibilidad          | Cambios frecuentes en requisitos de validación | Nuevas regulaciones de privacidad | Servicio de Registro | Actualizaciones trimestrales | Modularización de componentes de validación | <4 horas por cambio de política |

- Aplica técnica de **División de Módulos** con alternativas:
  1. Mantener código monolítico
  2. Separar en microservicios especializados

### Táctica Elegida
División en submódulos (Node.js)

**Contexto:**  
El servicio de registro requiere actualizaciones frecuentes (3-4 veces/año) para cumplir con regulaciones de privacidad variables por región.

**Alternativas:**
1. **Código Monolítico:**
   - Todas las validaciones en un único servicio
   - Tiempo promedio de cambio: 8 horas
   - Alto riesgo de afectar funcionalidades existentes

2. **Microservicios Especializados:**
   - 1 servicio por tipo de validación (email, edad, ubicación)
   - Requiere orquestación con Kubernetes
   - Overhead de comunicación entre servicios

**Criterios de elección:**
- **Cohesión:** Agrupación por dominio de validación
- **Acoplamiento:** Comunicación vía API REST
- **Tiempo de Cambio:** Objetivo <4 horas
- **Consistencia:** Mecanismos de sincronización

**Decisión:**
División en submódulos

**Sustento:**
Reduce el impacto de cambios en un 60% según métricas históricas. Alineado con la arquitectura de microservicios definida en decisiones iniciales (Node.js + Express). Uso de Jest para tests unitarios garantiza 85%+ de cobertura.

### Escenario 2

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                  | **Fuente del Estímulo** | **Artefacto**          | **Entorno**            | **Respuesta**                    | **Medida de Respuesta**        |
|------------------|-------------------------|-------------------------------|-------------------------|-----------------------|------------------------|----------------------------------|--------------------------------|
| ESC-M1-MNT-02    | Mantenibilidad          | Actualización de librería JWT | Vulnerabilidad de seguridad | Módulo de Auth | Parche de emergencia | Encapsulamiento con interfaz estable | <2 horas de downtime durante updates |

- Aplica técnica de **Encapsulamiento** con alternativas:
  1. Uso directo de librerías
  2. Wrapper con interfaz abstracta

### Táctica Elegida
Wrapper JWT (TypeScript)

**Contexto:**  
La autenticación depende de múltiples librerías críticas (JWT, bcrypt) que requieren actualizaciones frecuentes por vulnerabilidades.

**Alternativas:**
1. **Uso Directo:**
   - Dependencia explícita de 'jsonwebtoken'
   - Requiere cambios en 15+ archivos por actualización
   - Alto riesgo de inconsistencia

2. **Wrapper Abstracto:**
   - Interfaz `AuthProvider` con implementación específica
   - Cambios limitados a 1-2 archivos
   - Soporte para múltiples versiones

**Criterios de elección:**
- **Aislamiento:** Dependencias ocultas tras interfaz
- **Testeabilidad:** Mockeo simplificado
- **Compatibilidad:** Soporte para versiones paralelas
- **Documentación:** Contratos claros de interfaz

**Decisión:**
Wrapper JWT

**Sustento:**
Minimiza el impacto de cambios según patrón Adapter. Documentación Swagger integrada asegura consistencia. Metricas muestran reducción del 75% en tiempo de actualización (de 8h a 2h).

## Módulo 02: Visualización de Perfil
### Escenario 1: Alta complejidad en componentes de perfil

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                  | **Fuente del Estímulo**       | **Artefacto**            | **Entorno**              | **Respuesta**                          | **Medida de Respuesta**          |
|------------------|-------------------------|-------------------------------|-------------------------------|-------------------------|--------------------------|----------------------------------------|----------------------------------|
| ESC-M2-MNT-01    | Mantenibilidad          | Cambios frecuentes en estructura de datos de perfil | Nuevas features de social media | Componente React de Perfil | Actualizaciones mensuales | Componentización modular con props bien definidas | <3 horas por cambio de UI |

- Aplica técnica de **Cohesión Semántica** con alternativas:
  1. Componente monolítico
  2. Componentes separados por sección (Datos, Stats, Música)

### Táctica Elegida
Componentes separados con Atomic Design

**Contexto:**  
El perfil requiere actualizaciones frecuentes en su estructura visual (secciones, diseños) sin afectar la lógica de negocio.

**Alternativas:**
1. **Componente Monolítico:**
   - Un único archivo JSX >1500 líneas
   - Tiempo de cambio promedio: 6 horas
   - Alto riesgo de regresiones

2. **Atomic Design:**
   - Atoms: Botones, Badges
   - Molecules: Tarjetas de artista/álbum
   - Organisms: Secciones completas
   - Templates: Layout base

**Criterios de elección:**
- **Reusabilidad:** Máx. duplicación de código <5%
- **Acoplamiento:** Comunicación vía props/context
- **Documentación:** Storybook integrado
- **Pruebas:** Jest + Testing Library

**Decisión:**
Atomic Design

**Sustento:**
Reduce el impacto de cambios UI en un 70%. Alineado con arquitectura React definida. Storybook permite previsualizar 100% de variantes.

### Escenario 2: Integración compleja con microservicios

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                  | **Fuente del Estímulo** | **Artefacto**          | **Entorno**            | **Respuesta**                    | **Medida de Respuesta**        |
|------------------|-------------------------|-------------------------------|-------------------------|-----------------------|------------------------|----------------------------------|--------------------------------|
| ESC-M2-MNT-02    | Mantenibilidad          | Cambio en API de recomendaciones | Evolución modelo ML   | Sección "Recomendados" | Actualización trimestral | Patrón Adapter para abstraer API | Zero cambios en componentes UI |

- Aplica técnica de **Intermediario** con alternativas:
  1. Consumo directo de API
  2. Capa BFF (Backend For Frontend)

### Táctica Elegida
Patrón Adapter (TypeScript)

**Contexto:**  
El frontend consume datos de 3+ microservicios con APIs inestables (cambios 2-3 veces/año).

**Alternativas:**
1. **Consumo Directo:**
   - Lógica de fetch en componentes
   - Requiere updates masivos por cambios API
   - Alta fragilidad

2. **BFF:**
   - Capa Node.js intermedia
   - Overhead de mantenimiento
   - Latencia adicional

**Criterios de elección:**
- **Estabilidad:** Contratos API inmutables
- **Performance:** <100ms overhead
- **Testeabilidad:** Mockeo de servicios
- **Documentación:** Tipos TypeScript

**Decisión:**
Patrón Adapter

**Sustento:**
Aísla cambios de API (promedio 4h/update vs 12h antes). Integrado con Redux para gestión de estado. 100% cobertura de tipos con TS.

## Módulo 03: Exploración Musical
### Escenario 1

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                           | **Fuente del Estímulo** | **Artefacto**                  | **Entorno**                         | **Respuesta**                                                | **Medida de Respuesta**                             |
|------------------|-------------------------|----------------------------------------|-------------------------|--------------------------------|-------------------------------------|-------------------------------------------------------------|-----------------------------------------------------|
| { llenar todo del QAW } | { } | { } | { } | { } |

- { aplica una técnica para garantizar eso, y mapea sus alternativas }

### Táctica Elegida
{ cual elegiste }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Título Alternativa 01:**
     - { ingresar texto }

2. **Título Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **Escalabilidad:** { escribir }
- **Mantenibilidad:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribe, pon solo el nombre }

**Sustento:**
{ escribe }

### Escenario 2

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                           | **Fuente del Estímulo** | **Artefacto**                  | **Entorno**                         | **Respuesta**                                                | **Medida de Respuesta**                             |
|------------------|-------------------------|----------------------------------------|-------------------------|--------------------------------|-------------------------------------|-------------------------------------------------------------|-----------------------------------------------------|
| { llenar todo del QAW } | { } | { } | { } | { } |

- { aplica una técnica para garantizar eso, y mapea sus alternativas }

### Táctica Elegida
{ cual elegiste }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Título Alternativa 01:**
     - { ingresar texto }

2. **Título Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **Escalabilidad:** { escribir }
- **Mantenibilidad:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribe, pon solo el nombre }

**Sustento:**
{ escribe }


## Módulo 05: Gestión de Recomendaciones
### Escenario 1

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                           | **Fuente del Estímulo** | **Artefacto**                  | **Entorno**                         | **Respuesta**                                                | **Medida de Respuesta**                             |
|------------------|-------------------------|----------------------------------------|-------------------------|--------------------------------|-------------------------------------|-------------------------------------------------------------|-----------------------------------------------------|
| { llenar todo del QAW } | { } | { } | { } | { } |

- { aplica una técnica para garantizar eso, y mapea sus alternativas }

### Táctica Elegida
{ cual elegiste }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Título Alternativa 01:**
     - { ingresar texto }

2. **Título Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **Escalabilidad:** { escribir }
- **Mantenibilidad:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribe, pon solo el nombre }

**Sustento:**
{ escribe }

### Escenario 2

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                           | **Fuente del Estímulo** | **Artefacto**                  | **Entorno**                         | **Respuesta**                                                | **Medida de Respuesta**                             |
|------------------|-------------------------|----------------------------------------|-------------------------|--------------------------------|-------------------------------------|-------------------------------------------------------------|-----------------------------------------------------|
| { llenar todo del QAW } | { } | { } | { } | { } |

- { aplica una técnica para garantizar eso, y mapea sus alternativas }

### Táctica Elegida
{ cual elegiste }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Título Alternativa 01:**
     - { ingresar texto }

2. **Título Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **Escalabilidad:** { escribir }
- **Mantenibilidad:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribe, pon solo el nombre }

**Sustento:**
{ escribe }


## Módulo 06: Gestión de Planes y Monetización
### Escenario 1

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                           | **Fuente del Estímulo** | **Artefacto**                  | **Entorno**                         | **Respuesta**                                                | **Medida de Respuesta**                             |
|------------------|-------------------------|----------------------------------------|-------------------------|--------------------------------|-------------------------------------|-------------------------------------------------------------|-----------------------------------------------------|
| { llenar todo del QAW } | { } | { } | { } | { } |

- { aplica una técnica para garantizar eso, y mapea sus alternativas }

### Táctica Elegida
{ cual elegiste }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Título Alternativa 01:**
     - { ingresar texto }

2. **Título Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **Escalabilidad:** { escribir }
- **Mantenibilidad:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribe, pon solo el nombre }

**Sustento:**
{ escribe }

### Escenario 2

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                           | **Fuente del Estímulo** | **Artefacto**                  | **Entorno**                         | **Respuesta**                                                | **Medida de Respuesta**                             |
|------------------|-------------------------|----------------------------------------|-------------------------|--------------------------------|-------------------------------------|-------------------------------------------------------------|-----------------------------------------------------|
| { llenar todo del QAW } | { } | { } | { } | { } |

- { aplica una técnica para garantizar eso, y mapea sus alternativas }

### Táctica Elegida
{ cual elegiste }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Título Alternativa 01:**
     - { ingresar texto }

2. **Título Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **Escalabilidad:** { escribir }
- **Mantenibilidad:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribe, pon solo el nombre }

**Sustento:**
{ escribe }

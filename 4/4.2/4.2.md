# 4.2. Modelo de Coordinación

## 00: Decisiones generales

### Decisión 1:  
**Título:**
- { a }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Alternativa 01:**
     - { ingresar texto }

2. **Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **Escalabilidad:** { escribir }
- **Mantenibilidad:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribi }

**Sustento:**

## 01: Gestión de Usuarios

### Decisión 1:  
**Título:**
- { Modelo de coordinación entre el módulo de usuarios y el módulo de monetización para la activación de cuentas premium }

**Contexto:**  
{ Durante el registro, si el usuario selecciona la opción premium, se debe redirigir al sistema de pagos gestionado por el módulo de “Gestión de planes y monetización”. Este flujo requiere coordinación entre dos módulos que manejan responsabilidades distintas pero relacionadas. }

**Alternativas:**
1. **Coordinación basada en orquestación mediante un servicio centralizado (UserService)**
     - {La lógica de flujo se concentra en el UserService, que coordina llamadas entre el repositorio, autenticación, validación y gestor de planes.}
     - {El controlador solo actúa como intermediario entre la capa externa (cliente) y el servicio.}
     - {Alto control del flujo desde un único punto.}
     - {Fácil de mantener y escalar, ya que las reglas del negocio están centralizadas.}
     - {Facilita el manejo de errores, rollback y seguimiento de procesos.}
     - {Alineado con arquitecturas en capas tradicionales.}

2. **Coordinación distribuida, con múltiples servicios colaborando entre sí**
     - {Cada servicio (registro, login, planes) toma decisiones de forma autónoma y se comunican entre sí de forma directa o mediante eventos.}
     - {Permite un diseño más flexible, especialmente útil en microservicios.}
     - {Mayor complejidad para coordinar y sincronizar los estados entre servicios.}
     - {Más difícil de rastrear el flujo completo de una operación.}
     - {Escalable en escenarios distribuidos, pero requiere mecanismos de comunicación (API Gateway, mensajería, etc.).}
     - {Ideal cuando los componentes están desplegados de manera independiente.}
     
**Criterios de elección:**
- **Escalabilidad:** { Capacidad de modificar y ampliar el sistema con mas componentes en el tiempo }
- **Mantenibilidad:** { Capacidad de mantener el sistema actualizado en el tiempo. }
- **{ Trazabilidad del flujo }:** { Capacidad para seguir el flujo de una operación a través de los distintos componentes del sistema. }

**Decisión:**
{ Se elige la alternativa 1 }

**Sustento:**
{ Dado que este es el primer módulo y la arquitectura aún está en una etapa temprana, una orquestación centralizada permite un desarrollo más rápido y fácil de depurar. Aunque más acoplada, facilita la implementación del flujo de registro premium sin necesidad de infraestructura adicional para eventos. En versiones futuras, se puede migrar a una arquitectura basada en eventos si el sistema lo requiere. }


## 02: Visualización de perfil

### Decisión 1:  
**Título:**
- { Coordinación entre secciones del perfil y otros módulos (usuarios, monetización y biblioteca) }

**Contexto:**  
{ El perfil del usuario debe mostrar datos provenientes de distintas fuentes: información básica (módulo de usuarios), tipo de suscripción (módulo de monetización), y datos musicales (módulo de biblioteca). Se necesita definir cómo los distintos componentes del módulo de perfil se comunicarán entre ellos y con los módulos externos para obtener la información actualizada de manera eficiente y coherente. }

**Alternativas:**
1. **Modelo basado en servicios coordinados mediante un controlador central de perfil**
     - {Un controlador central (ej. PerfilController) orquesta las peticiones a los servicios externos: usuario, monetización, biblioteca.}
     - {Cada sección del perfil (datos básicos, estadísticas, música) obtiene su información desde el controlador mediante props o inyección.}
     - {La coordinación es centralizada y predecible.}
     - {Favorece la encapsulación de lógica y facilita el testing.}

2. **Modelo distribuido en el que cada componente hace sus propias llamadas a servicios externos**
     - {Cada sección del perfil se comunica directamente con los módulos correspondientes (servicio de usuarios, servicio de biblioteca, etc.).}
     - {Reducción de la lógica del controlador.}
     - {Mayor independencia entre componentes.}
     - {Más difícil de mantener coherencia y sincronización de datos si cambian en tiempo real.}
     
**Criterios de elección:**
- **Escalabilidad:** { Facilidad para extender el sistema (agregar nuevas secciones o funciones). }
- **Consistencia:** { Grado en que las distintas partes del sistema acceden a datos coherentes y sincronizados. }
- **{ Reutilización }:** { Posibilidad de centralizar procesos comunes en un solo lugar para evitar duplicación. }

**Decisión:**
{ Se elige la alternativa 1 }

**Sustento:**
{ La centralización de la coordinación permite mantener el flujo de datos más controlado, evitando llamadas duplicadas o asincronías entre las distintas partes del perfil. Esto es especialmente relevante considerando que algunas vistas del perfil (como el estado de suscripción o el número de valoraciones disponibles) deben estar sincronizadas con otros módulos que podrían actualizarse en tiempo real. Además, al encapsular la lógica en un único controlador, se facilita su reutilización en futuras vistas relacionadas (por ejemplo, en un panel administrativo o en la vista pública del perfil). }



## 03: Exploración musical

### Decisión 1:  
**Título:**
- { a }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Alternativa 01:**
     - { ingresar texto }

2. **Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **Escalabilidad:** { escribir }
- **Mantenibilidad:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribi }

**Sustento:**



## 04: Gestión de biblioteca

### Decisión 1:  
**Título:**
- { a }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Alternativa 01:**
     - { ingresar texto }

2. **Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **Escalabilidad:** { escribir }
- **Mantenibilidad:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribi }

**Sustento:**



## 05: Gestión de recomendaciones

### Decisión 1:  
**Título:**
- { a }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Alternativa 01:**
     - { ingresar texto }

2. **Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **Escalabilidad:** { escribir }
- **Mantenibilidad:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribi }

**Sustento:**



## 05: Gestión de planes

### Decisión 1:  
**Título:**
- { a }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Alternativa 01:**
     - { ingresar texto }

2. **Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **Escalabilidad:** { escribir }
- **Mantenibilidad:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribi }

**Sustento:**


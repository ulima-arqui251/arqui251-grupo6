# 4.1. Asignación de Responsabilidades

## 00: Decisiones generales

### Decisión 1:  
**Título:**
- Elección entre arquitectura monolítica y de microservicios

**Contexto:**  
Singletone es una plataforma musical que requiere manejar múltiples módulos complejos (gestión de usuarios, biblioteca musical, recomendaciones, etc.) con diferentes demandas de escalabilidad y disponibilidad. Con un crecimiento proyectado en usuarios y funcionalidades, es crucial seleccionar una arquitectura que permita escalar componentes individualmente, mantener alta disponibilidad y facilitar el desarrollo continuo sin afectar la experiencia del usuario.

**Alternativas:**
1. **Arquitectura monolítica:**
     - Todos los módulos integrados en una sola aplicación, simplificando el desarrollo inicial y despliegue.
     - Comunicación más sencilla entre componentes al compartir el mismo espacio de memoria.
     - Dificultad para escalar componentes individualmente (ej: módulo de recomendaciones que requiere más recursos).
     - Un fallo en un módulo puede afectar toda la plataforma.
     - Actualizaciones requieren redeploy completo de la aplicación.
     - Limitación a un stack tecnológico único.

2. **Arquitectura de microservicios:**
     - Cada módulo funciona como servicio independiente (ej: servicio de usuarios, servicio de biblioteca, etc.).
     - Escalabilidad granular según demanda de cada módulo.
     - Desarrollo y despliegue independiente por equipos.
     - Tolerancia a fallos aislada (un fallo no afecta toda la plataforma).
     - Mayor complejidad en gestión de infraestructura y comunicación entre servicios.
     - Posibilidad de usar diferentes tecnologías por servicio.
     - Costos operativos más elevados inicialmente.
     
**Criterios de elección:**
- **Escalabilidad:** Capacidad de escalar módulos con alta demanda como recomendaciones y búsqueda musical.
- **Disponibilidad:** Garantizar que fallos en un módulo no afecten toda la plataforma.
- **Velocidad de desarrollo:** Permitir que equipos trabajen en paralelo en diferentes módulos.
- **Flexibilidad tecnológica:** Posibilidad de usar tecnologías específicas por módulo (ej. Python para ML en recomendaciones).
- **Costo/Recursos:** Equipo con capacidad de gestionar arquitectura distribuida.

**Decisión:**
Arquitectura de microservicios.

**Sustento:**
La naturaleza modular de Singletone, con componentes claramente diferenciados (usuarios, biblioteca, recomendaciones) y diferentes necesidades de escalabilidad en base a funcionlidades y políticas, hace ideal el enfoque de microservicios. Esta elección permitirá al equipo:
1. Escalar independientemente el servicio de recomendaciones (que usa ML intensivo) sin afectar otros módulos
2. Aislar fallos (ej. problemas en la compra de suscripciones premium no interrumpiría la valoración o músical o búsqueda de perfiles)
3. Permitir actualizaciones frecuentes del módulo de exploración musical sin requerir deploy completo
4. Usar tecnologías óptimas por módulo (Node.js para API REST, Python para ML)
5. Equipos de desarrollo independientes trabajando en paralelo

Aunque aumenta la complejidad operativa, herramientas como Kubernetes y Docker facilitan la gestión, y los beneficios superan ampliamente los costos para una plataforma en crecimiento como Singletone.

### Decisión 2:  
**Título:**
- Asignación de responsabilidades entre módulos frontend y backend

**Contexto:**  
Singletone es una plataforma web con módulos complejos que requieren alta interactividad (ej: digiar individualmente para valorar canciones, carruseles dinámicos). Se debe decidir qué lógica reside en el frontend (React) y qué responsabilidades quedan en el backend (Node.js) para optimizar rendimiento y mantenibilidad.

**Alternativas:**
1. **Frontend "grueso":**
     - El frontend maneja lógica de negocio (validaciones, gestión de estado complejo)
     - Backend solo como API REST para persistencia
     - Mayor interactividad pero riesgo de inconsistencia si no se sincroniza con backend
     - Dificulta reutilización para otros clientes (ej: móvil)

2. **Arquitectura de microservicios:**
     - Frontend como capa de presentación (renderizado básico)
     - Backend maneja lógica de negocio y estado
     - Más consistencia pero menor interactividad
     - Mayor carga en el backend

3. **Enfoque híbrido:**
     - Frontend maneja estado de UI y validaciones básicas
     - Backend gestiona estado de negocio y reglas complejas
     - Comunicación via API REST + WebSockets para actualizaciones en tiempo real

**Criterios de elección:**
- **Consistencia:** Garantizar que los datos reflejen siempre el estado correcto.
- **Interactividad:** Tiempo de respuesta para acciones del usuario.
- **Mantenibilidad:** Facilidad para evolucionar componentes.
- **Escalabilidad:** Distribución equilibrada de carga.

**Decisión:**
Enfoque híbrido con:
- **Frontend** responsable de:
     - Estado de la UI (ej: canciones siendo valoradas)
     - Validaciones de formato (ej: puntaje entre 1-100)
     - Efectos visuales (carruseles, animaciones)
- **Backend** responsable de:
     - Estado de negocio (ej: valoraciones confirmadas)
     - Reglas complejas (límite semanal de valoraciones)
     - Integración con servicios externos (APIs de metadata musical)

**Sustento:**
El enfoque híbrido entre frontend y backend es el más adecuado para Singletone, ya que permite combinar una experiencia de usuario fluida con una lógica de negocio robusta y mantenible. Al delegar al frontend (React) la gestión del estado de la interfaz, validaciones básicas y efectos visuales, se optimiza la interactividad y la velocidad de respuesta, mientras que el backend (Node.js) asume el control del estado del negocio, reglas complejas y la integración con servicios externos, asegurando consistencia y seguridad en la plataforma. Esta división de responsabilidades no solo facilita la escalabilidad y el trabajo paralelo entre equipos, sino que también prepara la arquitectura para soportar múltiples clientes reutilizando la lógica del backend. Además, la combinación de API REST y WebSockets garantiza una comunicación eficiente y actualizaciones en tiempo real cuando sea necesario.


## 01: Gestión de Usuarios

### Decisión 1:  
**Título:**
- { a }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Alternativa 01:**
     - { ingresar texto }

2. **Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **{ otro criterio }:** { escribir }
- **{ otro criterio }:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribi }

**Sustento:**


## 02: Visualización de perfil

### Decisión 1:  
**Título:**
- { a }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Alternativa 01:**
     - { ingresar texto }

2. **Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **{ otro criterio }:** { escribir }
- **{ otro criterio }:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribi }

**Sustento:**



## 03: Exploración musical

### Decisión 1:  
**Título:**
- Responsabilidad exclusiva de música y visualización de resultados musicales y de usuarios

**Contexto:**  
El módulo 03 de Singletone permite a los usuarios buscar álbumes, artistas y otros usuarios dentro de la plataforma. Esta funcionalidad es clave para la experiencia del usuario, ya que es el primer paso para descubrir nueva música o conectar con otros. Al encontrar resultados relevantes, los usuarios pueden agregar álbumes y artistas a su biblioteca personal directamente desde este módulo. Esto implica que el módulo no solo muestra resultados, sino que también debe enviar eventos o peticiones al módulo de biblioteca para gestionar estas acciones. Es importante definir hasta dónde llega esta responsabilidad para evitar que el módulo gestione el almacenamiento o estados internos de la biblioteca, que es competencia del módulo 04.

**Alternativas:**
1. **Alternativa 01:**
     - Limitar el módulo solo a mostrar resultados de búsqueda, sin permitir interacciones como agregar elementos a la biblioteca.

2. **Alternativa 02:**
     - Ampliar la responsabilidad para que el módulo permita buscar, mostrar resultados e iniciar el proceso de agregar elementos a la biblioteca, dejando la gestión interna al módulo correspondiente.
     
**Criterios de elección:**
- **Experiencia de Usuario:** Facilitar que el usuario pueda agregar elementos desde la misma vista mejora la usabilidad.
- **Mantenibilidad:** Al dejar la gestión de datos y reglas de negocio en el módulo especializado, se reduce la necesidad de modificar el módulo de exploración ante cambios en las reglas de biblioteca.
- **Separación de Responsabilidades:** Aunque permite iniciar el agregado, no gestiona directamente el almacenamiento ni los estados de la biblioteca.
- **Escalabilidad:** Mantener la lógica de almacenamiento en otro módulo permite que ambos evolucionen de forma independiente.

**Decisión:**
El módulo 03 será responsable de permitir la búsqueda, visualización e inicio del agregado de elementos a la biblioteca del usuario, delegando la gestión y almacenamiento final al módulo 04 (Gestión de biblioteca).

**Sustento:**
Esta decisión permite que la experiencia del usuario sea más fluida, ya que puede agregar elementos directamente desde la exploración. Sin embargo, solamente se tendrá la opción de agregar elementos a la biblioteca, debido a que si se abarca más allá de esa funcionalidad, se estaría abarcando territorio del módulo 04 (Gestión de biblioteca), como por ejemplo, si se añadiera la opción de eliminar. Incorporar dicha funcionalidad no sería adecuado, ya que interrumpe el flujo lógico de la arquitectura, donde el módulo 04 es el único responsable de administrar, modificar y mantener la biblioteca del usuario, además, existiría una duplicidad de lógica y aumentaría la complejidad del mantenimiento, vulnerando el principio de responsabilidad única. De esta forma también se evitarían acoplamientos innecesarios y se estaría contribuyendo a una escalabilidad simple.

## 04: Gestión de biblioteca

### Decisión 1:  
**Título:**
- { a }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Alternativa 01:**
     - { ingresar texto }

2. **Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **{ otro criterio }:** { escribir }
- **{ otro criterio }:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribi }

**Sustento:**



## 05: Gestión de recomendaciones

### Decisión 1:  
**Título:**
- { a }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Alternativa 01:**
     - { ingresar texto }

2. **Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **{ otro criterio }:** { escribir }
- **{ otro criterio }:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribi }

**Sustento:**



## 05: Gestión de planes

### Decisión 1:  
**Título:**
- { a }

**Contexto:**  
{ ingresar texto }

**Alternativas:**
1. **Alternativa 01:**
     - { ingresar texto }

2. **Alternativa 02:**
     - { ingresar texto }
     
**Criterios de elección:**
- **{ otro criterio }:** { escribir }
- **{ otro criterio }:** { escribir }
- **{ otro criterio }:** { escribir }

**Decisión:**
{ escribi }

**Sustento:**


# **3.5. Refinamiento de Escenarios**

Los siguientes escenarios han sido refinados con base en la priorización y enfocados en la **funcionalidad principal** de Singletone: búsqueda → visualizar álbum → valorar álbum → mostrar en perfil.

| ID        | Atributo de Calidad | Fuente Estímulo | Estímulo                                                                 | Artefacto Tecnológico                 | Entorno                    | Respuesta del Sistema                                                                 | Medida de Respuesta                                                                 |
|-----------|---------------------|------------------|--------------------------------------------------------------------------|---------------------------------------|----------------------------|----------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------|
| ESC-R01   | Rendimiento         | Usuario final    | Accede a su perfil con más de 20 álbumes agregados                      | Frontend React + Backend Node.js     | Navegador de escritorio    | El sistema muestra el perfil completo en menos de 2 segundos                         | Tiempo de carga < 2s en `/profile` con lista activa de álbumes                      |
| ESC-R02   | Seguridad           | Usuario no logueado | Intenta acceder a `/profile` sin autenticarse                          | Router + Middleware de protección     | Navegador sin sesión activa | El sistema redirige automáticamente a `/login`                                       | Redirección exitosa a `/login` sin mostrar contenido protegido                      |
| ESC-R03   | Disponibilidad      | Fallo técnico    | `music-service` se cae mientras se visualiza un artista                 | Microservicios vía NGINX Gateway      | Contenedor del servicio caído | El sistema muestra error informativo sin interrumpir el resto de funcionalidades     | El resto de la app sigue navegable y se muestra fallback (ej. error 500 en UI)     |
| ESC-R04   | Mantenibilidad      | Desarrollador    | Modifica `AlbumCard.tsx` para incluir un nuevo distintivo               | Componente independiente              | Ambiente local de desarrollo | Los cambios solo afectan esa vista, sin impacto colateral                            | El resto del sistema sigue funcionando sin errores                                 |
| ESC-R05   | Rendimiento         | Usuario final    | Aplica un filtro en la vista `ProfileAlbums.tsx`                        | React + Estado local + Scroll virtual | Navegador web               | La interfaz se actualiza dinámicamente sin recargar la página                         | Filtro aplicado y elementos renderizados < 1s sin recarga                          |
| ESC-R06   | Seguridad           | Usuario malicioso| Token JWT inválido es enviado en localStorage                           | Frontend + Backend Express            | Navegador con token modificado | El sistema bloquea el acceso y redirige a `/login`                                   | Código HTTP 401 + redirección frontend                                              |
| ESC-R07   | Seguridad           | Usuario logueado | Accede a rutas protegidas con token expirado                            | Middleware JWT + rutas `/users/*`     | Navegador                  | El backend rechaza la petición y redirige a login                                    | Código HTTP 401 en respuesta; token inválido identificado                           |
| ESC-R08   | Interoperabilidad   | Usuario logueado | Accede a `/my-artist/:id` desde su perfil                               | `music-service` + `library-service`   | Navegador                  | El sistema combina data de ambos servicios y muestra la vista sin error              | Todos los datos cargan correctamente en la misma vista                             |
| ESC-R09   | Confiabilidad       | Usuario logueado | Valora un álbum y pierde la conexión                                    | Frontend con `fetch` + retry handler  | Red desconectada durante envío | El sistema evita duplicar la valoración al reintentar                               | Al reconectar, no hay valores duplicados en DB y feedback es consistente            |
| ESC-R10   | Rendimiento         | Usuario final    | Accede a la vista de artista con muchos álbumes                         | React con scroll vertical             | Desktop moderno             | Los álbumes se muestran con transición fluida y sin lag                             | Scroll fluido sin congelamientos; vista completamente funcional                     |